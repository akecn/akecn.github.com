---
layout: post
title: iframe在ie6下显示透明的bug
---

我们知道IE6下，任何元素都无法覆盖select元素在浏览器下的显示——除了iframe。
所以我们常常遇到的，需要解决的问题，就是在浮层元素之下（z轴）增加一个iframe来保证显示上的正确性。

还存在一个问题，就是对于一个普通的浮层，如果只是简单的悬浮在页面中，不易被区分出来这是一个浮层。常见的解决方案是，被浮层增加阴影，让它看起来是独立于原页面结构的。

这个时候就有几率遇到这边提到的问题了：

  0. 如果浮层使用的垫片（iframe）使用了<code>filter:alpha(opacity=0)</code>来定义样式。（当然这个定义对于上面说的简单场景来说不是必要的，但是有这个定义就会重现本文提到的bug）
  - 浮层使用了shadow滤镜来模拟阴影。

这个时候就会发生这样的事情。

![img](http://akecn.github.com/assets/images/alpha-iframe-in-ie6-img1.jpg)

真正的内容被透明化了。

发生这个问题的原因是：父子容器上的filter属性发生了冲突导致了这个问题。

那是不是只要是filter就会发生这个bug呢？倒也不是。简单试了两个滤镜——"wave"和"iris"。
wave滤镜会导致同样的问题，而iris滤镜则不会。具体原因没有深究。。

所以，只要避免父子容器都存在滤镜效果，应该就可以避免这个问题。